unique_key: google-drive
name: Google Drive
base_url: https://www.googleapis.com
docs_url: https://developers.google.com/drive/api/reference/rest/v3
logo_url: https://embed-integrations.s3.amazonaws.com/google-drive.svg

auth:
  scheme: oauth2
  authorization_url: https://accounts.google.com/o/oauth2/v2/auth
  token_url: https://oauth2.googleapis.com/token
  authorization_params:
    response_type: code
    access_type: offline
    prompt: consent

schemas:
  File: &File
    name: File
    description: A file in Google Drive.
    properties:
      id:
        type: string
        description: The unique identifier for the file.
        vector_searchable: false
      webview_link:
        type: string
        description: A link for opening the file in a relevant Google editor or viewer in a browser.
        index_searchable: false
        index_filterable: false
        vector_searchable: false
      download_link:
        type: string
        description: A link for downloading the content of the file in a browser. This is only available for files with binary content in Google Drive.
        index_searchable: false
        index_filterable: false
        vector_searchable: false
      name:
        type: string
        description: The name of the file.
      parents:
        type: array
        items:
          type: string
        description: The IDs of the parent folders which contain the file.
        index_searchable: false
        index_filterable: false
        vector_searchable: false
      mime_type:
        type: string
        description: The MIME type of the file.
        index_searchable: false
        vector_searchable: false
      created_at:
        type: string
        format: date-time
        description: The timestamp (RFC 3339 format) for when the file was created.
        index_searchable: false
        vector_searchable: false
      updated_at:
        type: string
        format: date-time
        description: The timestamp (RFC 3339 format) for when the file was updated.
        index_searchable: false
        vector_searchable: false
    required:
      - id
      - name
      - parents
      - mime_type
      - created_at
      - updated_at
  FileChunk: &FileChunk
    name: FileChunk
    description: A chunk of content from a Google Drive file.
    properties:
      file_id:
        type: string
        description: The unique identifier of the file to which the chunk belongs.
        vector_searchable: false
        index_searchable: false
        index_filterable: false
      chunk:
        type: string
        description: The file chunk.
        index_searchable: false
        index_filterable: false
      required:
        - file_id
        - chunk
  FileImage: &FileImage
    name: FileImage
    description: The base64-encoded string of the image file.
    properties:
      file_id:
        type: string
        description: The unique identifier of the file to which the chunk belongs.
        vector_searchable: false
        index_searchable: false
        index_filterable: false
      image:
        type: string
        description: The base64-encoded string of the image file.
        index_searchable: false
        index_filterable: false
        embedding_model: multimodal

collections:
  files:
    schema: *File
    default_enabled: true
    default_sync_frequency: 1d
    default_sync_auto_start: true
    required_scopes: [https://www.googleapis.com/auth/drive.readonly]
    has_multimodal_properties: true
    has_references: true
    reference_schemas:
      - *FileChunk
      - *FileImage
